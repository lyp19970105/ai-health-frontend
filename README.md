# Health Monitoring - Frontend

æœ¬é¡¹ç›®æ˜¯â€œå¥åº·ç›‘æµ‹â€å…¨æ ˆåº”ç”¨çš„å®¢æˆ·ç«¯éƒ¨åˆ†ï¼ŒåŸºäº React æ„å»ºã€‚å®ƒä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªä¸åç«¯ AI æœåŠ¡è¿›è¡Œäº¤äº’çš„ç°ä»£åŒ–ã€å“åº”å¼çš„èŠå¤©ç•Œé¢ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- **ç”¨æˆ·è®¤è¯**: æä¾›å®Œæ•´çš„æ³¨å†Œã€ç™»å½•ã€ç™»å‡ºæµç¨‹ã€‚
- **å®‰å…¨è·¯ç”±**: ä½¿ç”¨ç§æœ‰è·¯ç”±ä¿æŠ¤éœ€è¦è®¤è¯æ‰èƒ½è®¿é—®çš„é¡µé¢ã€‚
- **åº”ç”¨åˆ—è¡¨**: åŠ¨æ€ä»åç«¯åŠ è½½å¹¶å±•ç¤ºå¯ç”¨çš„ AI åº”ç”¨ã€‚
- **ä¼šè¯ç®¡ç†**: å±•ç¤ºå†å²ä¼šè¯åˆ—è¡¨ï¼Œå¹¶èƒ½è¿›å…¥æŸ¥çœ‹å†å²æ¶ˆæ¯ã€‚
- **å®æ—¶èŠå¤©**:
  - æ”¯æŒä¸ AI è¿›è¡Œå®æ—¶çš„æµå¼æ–‡æœ¬èŠå¤©ï¼ˆæ‰“å­—æœºæ•ˆæœï¼‰ã€‚
  - æ”¯æŒå¤šæ¨¡æ€ï¼ˆå›¾æ–‡ï¼‰èŠå¤©ï¼ˆæ¥å£å·²é¢„ç•™ï¼‰ã€‚
  - è‡ªåŠ¨ä¿å­˜èŠå¤©è®°å½•ï¼Œå¹¶èƒ½åœ¨æ–°ä¼šè¯ä¸å†å²ä¼šè¯é—´æ— ç¼åˆ‡æ¢ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ ¸å¿ƒæ¡†æ¶**: [React](https://reactjs.org/) (v19)
- **è·¯ç”±**: [React Router DOM](https://reactrouter.com/) (v7)
- **çŠ¶æ€ç®¡ç†**: [React Context API](https://reactjs.org/docs/context.html) (ç”¨äºå…¨å±€è®¤è¯çŠ¶æ€) & `useState` (ç”¨äºç»„ä»¶å±€éƒ¨çŠ¶æ€)
- **æ„å»ºå·¥å…·**: [Create React App](https://create-react-app.dev/) (`react-scripts`)
- **API è¯·æ±‚**:
  - åŸç”Ÿ `fetch` API
  - `@microsoft/fetch-event-source`: ç”¨äºå®ç°ä¸åç«¯ SSE (Server-Sent Events) çš„ç¨³å®šæµå¼è¿æ¥ã€‚
- **è¯­è¨€**: JavaScript (ES6+)
- **æ ·å¼**: çº¯ CSS (è®¡åˆ’å‡çº§ä¸º CSS Modules)

## ğŸ“‚ é¡¹ç›®ç»“æ„

é¡¹ç›®éµå¾ªâ€œå…³æ³¨ç‚¹åˆ†ç¦»â€çš„åŸåˆ™ï¼Œé‡‡ç”¨äº†æŒ‰åŠŸèƒ½åˆ’åˆ†çš„ç›®å½•ç»“æ„ï¼Œæ¸…æ™°ä¸”æ˜“äºç»´æŠ¤ã€‚

```
health-monitoring-frontend/
â””â”€â”€ src/
    â”œâ”€â”€ api/              # API è¯·æ±‚å±‚ (å·²æŠ½è±¡)
    â”‚   â”œâ”€â”€ authApi.js    # è®¤è¯ç›¸å…³ API
    â”‚   â”œâ”€â”€ chatApi.js    # èŠå¤©ä¸ä¼šè¯ç›¸å…³ API
    â”‚   â””â”€â”€ index.js      # API å¸®åŠ©å‡½æ•°å’Œç»Ÿä¸€å¯¼å‡º
    â”œâ”€â”€ assets/           # é™æ€èµ„æº (å›¾ç‰‡, SVG ç­‰)
    â”œâ”€â”€ components/       # å¯å¤ç”¨çš„é€šç”¨ç»„ä»¶
    â”‚   â”œâ”€â”€ common/       # åŸºç¡€ç»„ä»¶ (å¦‚ PrivateRoute)
    â”‚   â””â”€â”€ layout/       # å¸ƒå±€ç»„ä»¶ (å¦‚ Header)
    â”œâ”€â”€ context/          # React Context (å…¨å±€çŠ¶æ€ç®¡ç†)
    â”‚   â””â”€â”€ AuthContext.js
    â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰ Hooks (å¾…æ·»åŠ )
    â”œâ”€â”€ pages/            # é¡µé¢çº§ç»„ä»¶
    â”‚   â”œâ”€â”€ LoginPage.js
    â”‚   â”œâ”€â”€ RegisterPage.js
    â”‚   â”œâ”€â”€ AppListPage.js
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ styles/           # å…¨å±€æ ·å¼
    â”‚   â”œâ”€â”€ App.css
    â”‚   â””â”€â”€ index.css
    â”œâ”€â”€ utils/            # é€šç”¨å·¥å…·å‡½æ•° (å¾…æ·»åŠ )
    â”œâ”€â”€ App.js            # åº”ç”¨ä¸»å…¥å£å’Œè·¯ç”±é…ç½®
    â””â”€â”€ index.js          # React DOM æ¸²æŸ“å…¥å£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

- ç¡®ä¿ä½ å·²å®‰è£… [Node.js](https://nodejs.org/) (æ¨è v18 æˆ–æ›´é«˜ç‰ˆæœ¬)ã€‚
- ç¡®ä¿åç«¯çš„ Spring Boot æœåŠ¡æ­£åœ¨æœ¬åœ°çš„ `http://localhost:8080` è¿è¡Œã€‚

### 2. å®‰è£…ä¾èµ–

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€æœ‰å¿…éœ€çš„ npm åŒ…ï¼š
```bash
npm install
```

### 3. é…ç½®ä»£ç†

æœ¬é¡¹ç›®ä½¿ç”¨ `http-proxy-middleware` (`setupProxy.js`) æ¥è§£å†³å¼€å‘ç¯å¢ƒä¸‹çš„è·¨åŸŸé—®é¢˜ã€‚æ‰€æœ‰ä»å‰ç«¯å‘èµ·çš„ `/api` è¯·æ±‚éƒ½ä¼šè¢«è‡ªåŠ¨ä»£ç†åˆ°åç«¯æœåŠ¡ã€‚

è¯·æ£€æŸ¥ `src/setupProxy.js` æ–‡ä»¶ï¼Œç¡®ä¿ `target` åœ°å€ä¸ä½ çš„åç«¯æœåŠ¡åœ°å€ä¸€è‡´ã€‚
```javascript
// src/setupProxy.js
const { createProxyMiddleware } = require('http-proxy-middleware');

module.exports = function(app) {
  app.use(
    '/api',
    createProxyMiddleware({
      target: 'http://localhost:8080', // <-- ç¡®ä¿è¿™é‡Œæ˜¯ä½ çš„åç«¯åœ°å€
      changeOrigin: true,
    })
  );
};
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨é¡¹ç›®ï¼š
```bash
npm start
```
åº”ç”¨å°†åœ¨ `http://localhost:3000` ä¸Šè¿è¡Œï¼Œå¹¶ä¼šè‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚

## ğŸ“œ å¯ç”¨è„šæœ¬

- `npm start`: åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œåº”ç”¨ã€‚
- `npm run build`: å°†åº”ç”¨æ‰“åŒ…ä¸ºç”Ÿäº§ç¯å¢ƒçš„é™æ€æ–‡ä»¶ï¼Œè¾“å‡ºåˆ° `build` ç›®å½•ã€‚
- `npm test`: å¯åŠ¨æµ‹è¯•è¿è¡Œå™¨ã€‚
- `npm run eject`: **(å±é™©æ“ä½œ)** å°†é¡¹ç›®çš„é…ç½®å’Œè„šæœ¬ä» Create React App ä¸­â€œå¼¹å‡ºâ€ï¼Œæ­¤æ“ä½œä¸å¯é€†ã€‚

## ğŸ›ï¸ æ ¸å¿ƒæ¶æ„è§£è¯»

### API å±‚

- **ä½ç½®**: `src/api/`
- **èŒè´£**: ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ä¸åç«¯çš„æ•°æ®äº¤äº’ã€‚ç»„ä»¶ä¸åº”ç›´æ¥è°ƒç”¨ `fetch`ã€‚
- **å®ç°**:
  - `authApi.js` å°è£…äº†ç™»å½•ã€æ³¨å†Œç­‰å‡½æ•°ã€‚
  - `chatApi.js` å°è£…äº†è·å–åº”ç”¨/ä¼šè¯ã€å‘èµ·èŠå¤©ç­‰å‡½æ•°ã€‚
  - è¿™ç§åˆ†å±‚ä½¿å¾—ç»„ä»¶ä»£ç æ›´å¹²å‡€ï¼ŒAPI çš„ä¿®æ”¹ä¹Ÿåªåœ¨ä¸€å¤„è¿›è¡Œã€‚

### çŠ¶æ€ç®¡ç†

- **å…¨å±€çŠ¶æ€**: `src/context/AuthContext.js` è´Ÿè´£ç®¡ç†ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ (`user`, `isAuthenticated`) å’Œç›¸å…³çš„æ“ä½œ (`login`, `logout`)ã€‚æ•´ä¸ªåº”ç”¨è¢« `AuthProvider` åŒ…è£¹ï¼Œä»»ä½•å­ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡ `useAuth()` hook è®¿é—®è¿™äº›çŠ¶æ€å’Œæ–¹æ³•ã€‚
- **å±€éƒ¨çŠ¶æ€**: é¡µé¢å’Œç»„ä»¶å†…éƒ¨çš„ä¸´æ—¶çŠ¶æ€ï¼ˆå¦‚è¡¨å•è¾“å…¥ã€åŠ è½½çŠ¶æ€ç­‰ï¼‰ç»§ç»­ä½¿ç”¨ `useState` è¿›è¡Œç®¡ç†ã€‚

### è·¯ç”±

- **å®ç°**: `react-router-dom`
- **é…ç½®**: è·¯ç”±çš„å®šä¹‰é›†ä¸­åœ¨ `src/App.js` ä¸­ã€‚
- **ç§æœ‰è·¯ç”±**: `src/components/common/PrivateRoute.js` æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå®ƒæ£€æŸ¥ `AuthContext` ä¸­çš„ `isAuthenticated` çŠ¶æ€ã€‚å¦‚æœç”¨æˆ·æœªç™»å½•ï¼Œå®ƒä¼šè‡ªåŠ¨å°†ç”¨æˆ·é‡å®šå‘åˆ° `/login` é¡µé¢ï¼Œä»è€Œä¿æŠ¤éœ€è¦è®¤è¯çš„é¡µé¢ã€‚

## ğŸ“ˆ æœªæ¥ä¼˜åŒ–æ–¹å‘

- **æ ·å¼æ–¹æ¡ˆ**: ä»çº¯ CSS è¿ç§»åˆ° [CSS Modules](https://github.com/css-modules/css-modules)ï¼Œå®ç°ç»„ä»¶çº§åˆ«çš„æ ·å¼éš”ç¦»ã€‚
- **å¼•å…¥ TypeScript**: å°†é¡¹ç›®è¿ç§»åˆ° TypeScriptï¼Œä»¥è·å¾—é™æ€ç±»å‹æ£€æŸ¥å¸¦æ¥çš„å¥å£®æ€§å’Œæ›´å¥½çš„å¼€å‘ä½“éªŒã€‚
- **è‡ªå®šä¹‰ Hooks**: å°†ç»„ä»¶ä¸­å¯å¤ç”¨çš„é€»è¾‘ï¼ˆå¦‚æ•°æ®è¯·æ±‚ã€è¡¨å•å¤„ç†ç­‰ï¼‰æŠ½ç¦»åˆ° `src/hooks/` ç›®å½•ä¸‹çš„è‡ªå®šä¹‰ Hooks ä¸­ã€‚
- **æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†**: å¼•å…¥ `React Query` æˆ– `SWR` æ¥æ›¿ä»£ `useEffect` ä¸­çš„æ•°æ®è¯·æ±‚é€»è¾‘ï¼Œä»¥æ›´å¥½åœ°ç®¡ç†ç¼“å­˜ã€åŠ è½½å’Œé”™è¯¯çŠ¶æ€ã€‚